<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My GitHub Page</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <h1>Hello World!</h1>
  <p>This is my first GitHub Page üöÄ</p>

  <button id="triggerBtn">Run GitHub Workflow</button>

  <script>
    document.getElementById("triggerBtn").addEventListener("click", async () => {
      try {
        const response = await fetch(
          "https://api.github.com/repos/marcoshioka/pages-test/actions/workflows/trigger.yml/dispatches",
          {
            method: "POST",
            headers: {
              "Accept": "application/vnd.github+json",
              "Content-Type": "application/json",
              // ‚ö†Ô∏è If your repo is PUBLIC: you can omit Authorization
              // ‚ö†Ô∏è If PRIVATE: you still need a proxy (not safe to expose PAT here)
            },
            body: JSON.stringify({ ref: "main" })
          }
        );

        if (response.ok) {
          alert("‚úÖ Workflow triggered successfully!");
        } else {
          const errorText = await response.text();
          alert("‚ùå Error: " + response.status + "\n" + errorText);
        }
      } catch (err) {
        alert("‚ö†Ô∏è Request failed: " + err.message);
      }
    });
  </script>
</body>
</html>
