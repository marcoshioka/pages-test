<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My GitHub Page</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
  <h1>Hello World!</h1>
  <p>This is my first GitHub Page üöÄ</p>

  <button id="triggerBtn">Run GitHub Workflow</button>

  <script>
    console.log("Welcome to my GitHub Page!");

    document.getElementById("triggerBtn").addEventListener("click", async () => {
      try {
        const response = await fetch("https://api.github.com/repos/marcoshioka/pages-test/actions/workflows/node.js.yml/dispatches", {
          method: "POST",
          headers: {
            "Accept": "application/vnd.github+json",
            "Authorization": "Bearer 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", // ‚ö†Ô∏è Don't expose in production!
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            ref: "main"
          })
        });

        if (response.ok) {
          alert("‚úÖ Workflow triggered successfully!");
        } else {
          const errorText = await response.text();
          alert("‚ùå Error: " + response.status + "\n" + errorText);
        }
      } catch (err) {
        alert("‚ö†Ô∏è Request failed: " + err.message);
      }
    });
  </script>
</body>
</html>
